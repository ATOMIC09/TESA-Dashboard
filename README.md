# OpenFruit â€” TESA Top Gun Rally 18 Integration Demo

## Overview
This project is a web-based demo for monitoring and controlling machines, providing real-time data visualization and Machine Learning (ML) predictions. It includes a home page for machine information and a Raspberry Pi controller page for ML-based predictions.

## Features
### 1. Home Page
Displays machine information by connecting to MachineAPI via WebSocket. The real-time data includes:

- Energy Consumption:
  - Power usage with simulated noise.
  - Voltage readings for three phases (L1-GND, L2-GND, L3-GND).
- Pressure:
  - A square wave value with added noise.
- Force:
  - A square wave value with added noise.
- Cycle Count:
  - An integer counter that resets to 0 after reaching 20,000.
- Position of the Punch:
  - A triangular wave indicating the punch position.

### 2. Server Controller
The server manages file storage and interactions with MongoDB, which stores file paths for various Raspberry Pi-related data. It supports the following functionalities:

- Reports:
  - Stores reports generated by the Raspberry Pi.
- Models:
  - Contains pre-trained ML models.
- Recorded Sounds:
  - Stores audio files recorded from the Raspberry Pi, controlled via the /raspberrypi page.

### 3. Raspberry Pi Controller
This page connects to a Raspberry Pi using MQTT over WebSocket and provides the following:

- Machine Learning Predictions:
  - Real-time predictions are displayed using a line chart:
    - X: Unknown.
    - N: Normal.
    - F: Faulty.

  - Confidence ratios are displayed alongside predictions in the same chart (dual X-axis).
- Prediction Logs:
  - A table lists detailed prediction results for easy review.

## How It Works
### 1. MachineAPI:

- Streams real-time data via WebSocket for monitoring machine metrics.

### 2. Server:

- Handles file uploads and database management for reports, ML models, and audio files.
- Stores metadata and paths in MongoDB for efficient retrieval.

### 3. Raspberry Pi Controller:

- Connects to the Raspberry Pi using MQTT over WebSocket.
- Publishes and subscribes to topics for sending commands and receiving predictions.

## Technologies Used
- Frontend: Next.js 14, TypeScript, WebSocket for real-time communication.
- Backend: Bun, MongoDB for data storage, and MQTT for Raspberry Pi integration.
- Visualization: Charts.js for displaying line charts of predictions.
- Raspberry Pi Integration: MQTT over WebSocket for ML predictions and audio recordings.

## Contributor
- <a href="https://github.com/ATOMIC09">ATOMIC09</a>
- <a href="https://github.com/Bipoeman">Bipoeman</a>
- <a href="https://github.com/buratud">buratud</a>
- <a href="https://github.com/I2eNamE">I2eNamE</a>
- <a href="https://github.com/SkyJTx">SkyJTx</a>